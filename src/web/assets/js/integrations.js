/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/*!****************************************!*\
  !*** ./development/js/integrations.js ***!
  \****************************************/
eval("var IntegrationsHud = Garnish.Base.extend({\n  $listContainer: null,\n  $container: null,\n  type: null,\n  hud: null,\n  init: function init(payload) {\n    this.$listContainer = $('#current-integrations-list');\n    this.$container = $(payload.target);\n    this.type = payload.type;\n    this.getHud();\n  },\n  handleSubmitted: function handleSubmitted(data) {\n    if ($(this.$listContainer[0].children[0]).hasClass('empty')) {\n      $('#current-integrations-list').html(data.template);\n    } else {\n      $('#current-integrations-list').append(data.template);\n    }\n\n    this.hud.hide();\n  },\n  getHud: function getHud() {\n    var data = {\n      type: this.type\n    };\n    Craft.postActionRequest('form-builder/integrations/get-hud-modal', data, $.proxy(function (response, textStatus) {\n      if (response.success) {\n        this.createHud(response.template);\n      }\n    }, this));\n  },\n  createHud: function createHud(template) {\n    var that = this;\n    this.hud = new Garnish.HUD(this.$container, template, {\n      hudClass: 'hud formbuilder-hud',\n      bodyClass: 'body',\n      closeOtherHUDs: false\n    });\n    this.hud.on('onSubmitted', $.proxy(this, 'handleSubmitted'));\n    this.hud.on('hide', $.proxy(function () {\n      delete this.hud;\n      $('.hud-shade').remove();\n      $('.formbuilder-hud').remove();\n    }, this));\n    this.hud.$body.find('input:first').trigger('focus'); // Init handle generator\n\n    new Craft.HandleGenerator('#integration-name', '#integration-handle');\n    var $cancelBtn = this.hud.$footer.find('.cancel');\n    this.addListener($cancelBtn, 'click', function () {\n      this.hud.hide();\n    });\n    this.hud.on('submit', function (e) {\n      var formData = that.hud.$body.serialize();\n      Craft.postActionRequest('form-builder/integrations/save', formData, $.proxy(function (response, textStatus) {\n        if (response.success) {\n          that.handleSubmitted(response);\n        } else {\n          $.each(response.errors, function (i, item) {\n            $('#field-' + i).addClass('error');\n          });\n        }\n      }, this));\n    });\n  }\n});\nvar IntegrationSelectionHud = Garnish.Base.extend({\n  $container: null,\n  $spinner: null,\n  hud: null,\n  init: function init(el) {\n    this.$container = $(el);\n    this.createHud();\n  },\n  createHud: function createHud() {\n    var data = {\n      type: this.type\n    };\n    $hud = $('<div class=\"hud-loader-body\"/>');\n    this.$spinner = $('<div class=\"loader\"><svg width=\"25px\" height=\"25px\" viewBox=\"0 0 42 42\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#474747\"><g fill=\"none\" fill-rule=\"evenodd\"><g transform=\"translate(4 3)\" stroke-width=\"5\"><circle stroke-opacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\"/><path d=\"M36 18c0-9.94-8.06-18-18-18\"><animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 18 18\" to=\"360 18 18\" dur=\"1s\" repeatCount=\"indefinite\"/></path></g></g></svg></div>').prependTo($hud);\n    this.hud = new Garnish.HUD(this.$container, $hud, {\n      hudClass: 'hud formbuilder-hud integration-hud',\n      bodyClass: 'body',\n      closeOtherHUDs: false\n    }); // Get Integrations\n\n    Craft.postActionRequest('form-builder/integrations/get-integrations-hud', data, $.proxy(function (response, textStatus) {\n      if (response.success) {\n        this.updateBody(response.template);\n      }\n    }, this));\n  },\n  updateBody: function updateBody(template) {\n    var that = this;\n    this.hud.updateBody(template);\n    this.hud.on('onSubmitted', $.proxy(this, 'handleSubmitted'));\n    this.hud.on('hide', $.proxy(function () {\n      delete this.hud;\n      $('.hud-shade').remove();\n      $('.formbuilder-hud').remove();\n    }, this));\n    var items = this.hud.$body.find('.integration-add-link');\n    items.on('click', function (e) {\n      e.preventDefault();\n      var target = $(e.currentTarget);\n      var data = target[0].dataset;\n      that.trigger('response', {\n        data: data\n      });\n    });\n  }\n});\nvar IntegrationItem = Garnish.Base.extend({\n  $container: null,\n  formId: null,\n  id: null,\n  name: null,\n  handle: null,\n  type: null,\n  status: null,\n  init: function init(data) {\n    this.$container = $('#formbuilder-integrations-container');\n    var payload = {\n      formId: data.formId,\n      id: data.id,\n      name: data.name,\n      handle: data.handle,\n      type: data.type,\n      status: data.status\n    };\n    this.getIntegrationSection(payload);\n  },\n  getIntegrationSection: function getIntegrationSection(payload) {\n    Craft.postActionRequest('form-builder/integrations/get-integration-section', payload, $.proxy(function (response, textStatus) {\n      if (response.success) {\n        this.appendIntegrationHtml(response);\n      }\n    }, this));\n  },\n  appendIntegrationHtml: function appendIntegrationHtml(response) {\n    this.$container.append($(response.template));\n    var container = $('#integration-' + response.type + '-' + response.index); // container.find('.option-item').each(function (i, el) {\n    //     new window.Option(el);\n    // });\n\n    $('.lightswitch', this.$container).lightswitch();\n    container.find('.delete-btn').on('click', function (e) {\n      e.preventDefault();\n      container.slideUp(300, function () {\n        container.remove();\n      });\n    });\n  }\n});\nGarnish.$doc.ready(function () {\n  $('.add-integration').on('click', function (e) {\n    e.preventDefault();\n    var payload = {\n      target: $(this),\n      type: $(this).data('type')\n    };\n    new IntegrationsHud(payload);\n  });\n  $('.add-integrations-item').on('click', function (e) {\n    e.preventDefault();\n    var formId = $(this).data('form-id');\n    var integrationSelection = new IntegrationSelectionHud($(this));\n    integrationSelection.on('response', function (e) {\n      var type = e.data.type;\n      var allowMultiple = e.data.allowMultiple;\n      e.data.formId = formId;\n      e.target.hud.hide();\n\n      if (allowMultiple === '1') {\n        new IntegrationItem(e.data);\n      } else {\n        var needle = $('#integration-' + type + '-1');\n\n        if (needle.length > 0) {\n          Craft.cp.displayError(Craft.t('form-builder', 'Only 1 integration is allowed for this type'));\n        } else {\n          new IntegrationItem(e.data);\n        }\n      }\n    });\n  });\n  $('#formbuilder-integrations-container .delete-btn').on('click', function (e) {\n    e.preventDefault();\n    var target = $(this).data('target');\n    $('#' + target).slideUp(300, function () {\n      $('#' + target).remove();\n    });\n  });\n  $('.item-remove').on('click', function (e) {\n    var id = $(this).data('id');\n    var target = $(this).parent();\n    var data = {\n      id: id\n    };\n    Craft.postActionRequest('form-builder/integrations/delete', data, $.proxy(function (response, textStatus) {\n      if (response.success) {\n        target.velocity('slideUp', '300', function () {\n          target.remove();\n          Craft.cp.displayNotice(Craft.t('form-builder', 'Integration deleted'));\n        });\n      } else {\n        Craft.cp.displayNotice(Craft.t('form-builder', 'Cannot delete integration'));\n      }\n    }, this));\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kZXZlbG9wbWVudC9qcy9pbnRlZ3JhdGlvbnMuanM/MGE0MCJdLCJuYW1lcyI6WyJJbnRlZ3JhdGlvbnNIdWQiLCJHYXJuaXNoIiwiQmFzZSIsImV4dGVuZCIsIiRsaXN0Q29udGFpbmVyIiwiJGNvbnRhaW5lciIsInR5cGUiLCJodWQiLCJpbml0IiwicGF5bG9hZCIsIiQiLCJ0YXJnZXQiLCJnZXRIdWQiLCJoYW5kbGVTdWJtaXR0ZWQiLCJkYXRhIiwiY2hpbGRyZW4iLCJoYXNDbGFzcyIsImh0bWwiLCJ0ZW1wbGF0ZSIsImFwcGVuZCIsImhpZGUiLCJDcmFmdCIsInBvc3RBY3Rpb25SZXF1ZXN0IiwicHJveHkiLCJyZXNwb25zZSIsInRleHRTdGF0dXMiLCJzdWNjZXNzIiwiY3JlYXRlSHVkIiwidGhhdCIsIkhVRCIsImh1ZENsYXNzIiwiYm9keUNsYXNzIiwiY2xvc2VPdGhlckhVRHMiLCJvbiIsInJlbW92ZSIsIiRib2R5IiwiZmluZCIsInRyaWdnZXIiLCJIYW5kbGVHZW5lcmF0b3IiLCIkY2FuY2VsQnRuIiwiJGZvb3RlciIsImFkZExpc3RlbmVyIiwiZSIsImZvcm1EYXRhIiwic2VyaWFsaXplIiwiZWFjaCIsImVycm9ycyIsImkiLCJpdGVtIiwiYWRkQ2xhc3MiLCJJbnRlZ3JhdGlvblNlbGVjdGlvbkh1ZCIsIiRzcGlubmVyIiwiZWwiLCIkaHVkIiwicHJlcGVuZFRvIiwidXBkYXRlQm9keSIsIml0ZW1zIiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50VGFyZ2V0IiwiZGF0YXNldCIsIkludGVncmF0aW9uSXRlbSIsImZvcm1JZCIsImlkIiwibmFtZSIsImhhbmRsZSIsInN0YXR1cyIsImdldEludGVncmF0aW9uU2VjdGlvbiIsImFwcGVuZEludGVncmF0aW9uSHRtbCIsImNvbnRhaW5lciIsImluZGV4IiwibGlnaHRzd2l0Y2giLCJzbGlkZVVwIiwiJGRvYyIsInJlYWR5IiwiaW50ZWdyYXRpb25TZWxlY3Rpb24iLCJhbGxvd011bHRpcGxlIiwibmVlZGxlIiwibGVuZ3RoIiwiY3AiLCJkaXNwbGF5RXJyb3IiLCJ0IiwicGFyZW50IiwidmVsb2NpdHkiLCJkaXNwbGF5Tm90aWNlIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxlQUFlLEdBQUdDLE9BQU8sQ0FBQ0MsSUFBUixDQUFhQyxNQUFiLENBQW9CO0FBQ3RDQyxFQUFBQSxjQUFjLEVBQUUsSUFEc0I7QUFFdENDLEVBQUFBLFVBQVUsRUFBRSxJQUYwQjtBQUl0Q0MsRUFBQUEsSUFBSSxFQUFFLElBSmdDO0FBS3RDQyxFQUFBQSxHQUFHLEVBQUUsSUFMaUM7QUFPdENDLEVBQUFBLElBUHNDLGdCQU9qQ0MsT0FQaUMsRUFPeEI7QUFDVixTQUFLTCxjQUFMLEdBQXNCTSxDQUFDLENBQUMsNEJBQUQsQ0FBdkI7QUFDQSxTQUFLTCxVQUFMLEdBQWtCSyxDQUFDLENBQUNELE9BQU8sQ0FBQ0UsTUFBVCxDQUFuQjtBQUNBLFNBQUtMLElBQUwsR0FBWUcsT0FBTyxDQUFDSCxJQUFwQjtBQUVBLFNBQUtNLE1BQUw7QUFDSCxHQWJxQztBQWV0Q0MsRUFBQUEsZUFmc0MsMkJBZXRCQyxJQWZzQixFQWVoQjtBQUNsQixRQUFJSixDQUFDLENBQUMsS0FBS04sY0FBTCxDQUFvQixDQUFwQixFQUF1QlcsUUFBdkIsQ0FBZ0MsQ0FBaEMsQ0FBRCxDQUFELENBQXNDQyxRQUF0QyxDQUErQyxPQUEvQyxDQUFKLEVBQTZEO0FBQ3pETixNQUFBQSxDQUFDLENBQUMsNEJBQUQsQ0FBRCxDQUFnQ08sSUFBaEMsQ0FBcUNILElBQUksQ0FBQ0ksUUFBMUM7QUFDSCxLQUZELE1BRU87QUFDSFIsTUFBQUEsQ0FBQyxDQUFDLDRCQUFELENBQUQsQ0FBZ0NTLE1BQWhDLENBQXVDTCxJQUFJLENBQUNJLFFBQTVDO0FBQ0g7O0FBRUQsU0FBS1gsR0FBTCxDQUFTYSxJQUFUO0FBQ0gsR0F2QnFDO0FBeUJ0Q1IsRUFBQUEsTUF6QnNDLG9CQXlCN0I7QUFDTCxRQUFJRSxJQUFJLEdBQUc7QUFDUFIsTUFBQUEs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QVEsY0FBUixFQUF3QiwyQkFBeEIsQ0FBdkI7QUFDSDtBQUNKLEtBVGlFLEVBUzlELElBVDhELENBQWxFO0FBV0gsR0FsQkQ7QUFtQkgsQ0FuRUQiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgSW50ZWdyYXRpb25zSHVkID0gR2FybmlzaC5CYXNlLmV4dGVuZCh7XG4gICAgJGxpc3RDb250YWluZXI6IG51bGwsXG4gICAgJGNvbnRhaW5lcjogbnVsbCxcblxuICAgIHR5cGU6IG51bGwsXG4gICAgaHVkOiBudWxsLFxuXG4gICAgaW5pdChwYXlsb2FkKSB7XG4gICAgICAgIHRoaXMuJGxpc3RDb250YWluZXIgPSAkKCcjY3VycmVudC1pbnRlZ3JhdGlvbnMtbGlzdCcpO1xuICAgICAgICB0aGlzLiRjb250YWluZXIgPSAkKHBheWxvYWQudGFyZ2V0KTtcbiAgICAgICAgdGhpcy50eXBlID0gcGF5bG9hZC50eXBlO1xuXG4gICAgICAgIHRoaXMuZ2V0SHVkKCk7XG4gICAgfSxcblxuICAgIGhhbmRsZVN1Ym1pdHRlZChkYXRhKSB7XG4gICAgICAgIGlmICgkKHRoaXMuJGxpc3RDb250YWluZXJbMF0uY2hpbGRyZW5bMF0pLmhhc0NsYXNzKCdlbXB0eScpKSB7XG4gICAgICAgICAgICAkKCcjY3VycmVudC1pbnRlZ3JhdGlvbnMtbGlzdCcpLmh0bWwoZGF0YS50ZW1wbGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjY3VycmVudC1pbnRlZ3JhdGlvbnMtbGlzdCcpLmFwcGVuZChkYXRhLnRlbXBsYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaHVkLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgZ2V0SHVkKCkge1xuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgfTtcblxuICAgICAgICBDcmFmdC5wb3N0QWN0aW9uUmVxdWVzdCgnZm9ybS1idWlsZGVyL2ludGVncmF0aW9ucy9nZXQtaHVkLW1vZGFsJywgZGF0YSwgJC5wcm94eSgoZnVuY3Rpb24gKHJlc3BvbnNlLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlSHVkKHJlc3BvbnNlLnRlbXBsYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIHRoaXMpKTtcblxuICAgIH0sXG5cbiAgICBjcmVhdGVIdWQodGVtcGxhdGUpIHtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuaHVkID0gbmV3IEdhcm5pc2guSFVEKHRoaXMuJGNvbnRhaW5lciwgdGVtcGxhdGUsIHtcbiAgICAgICAgICAgIGh1ZENsYXNzOiAnaHVkIGZvcm1idWlsZGVyLWh1ZCcsXG4gICAgICAgICAgICBib2R5Q2xhc3M6ICdib2R5JyxcbiAgICAgICAgICAgIGNsb3NlT3RoZXJIVURzOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmh1ZC5vbignb25TdWJtaXR0ZWQnLCAkLnByb3h5KHRoaXMsICdoYW5kbGVTdWJtaXR0ZWQnKSlcblxuICAgICAgICB0aGlzLmh1ZC5vbignaGlkZScsICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuaHVkO1xuICAgICAgICAgICAgJCgnLmh1ZC1zaGFkZScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnLmZvcm1idWlsZGVyLWh1ZCcpLnJlbW92ZSgpO1xuICAgICAgICB9LCB0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5odWQuJGJvZHkuZmluZCgnaW5wdXQ6Zmlyc3QnKS50cmlnZ2VyKCdmb2N1cycpO1xuXG4gICAgICAgIC8vIEluaXQgaGFuZGxlIGdlbmVyYXRvclxuICAgICAgICBuZXcgQ3JhZnQuSGFuZGxlR2VuZXJhdG9yKCcjaW50ZWdyYXRpb24tbmFtZScsICcjaW50ZWdyYXRpb24taGFuZGxlJyk7XG5cbiAgICAgICAgbGV0ICRjYW5jZWxCdG4gPSB0aGlzLmh1ZC4kZm9vdGVyLmZpbmQoJy5jYW5jZWwnKTtcblxuICAgICAgICB0aGlzLmFkZExpc3RlbmVyKCRjYW5jZWxCdG4sICdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaHVkLmhpZGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5odWQub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBsZXQgZm9ybURhdGEgPSB0aGF0Lmh1ZC4kYm9keS5zZXJpYWxpemUoKTtcblxuICAgICAgICAgICAgQ3JhZnQucG9zdEFjdGlvblJlcXVlc3QoJ2Zvcm0tYnVpbGRlci9pbnRlZ3JhdGlvbnMvc2F2ZScsIGZvcm1EYXRhLCAkLnByb3h5KChmdW5jdGlvbiAocmVzcG9uc2UsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZVN1Ym1pdHRlZChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3BvbnNlLmVycm9ycywgZnVuY3Rpb24gKGksIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNmaWVsZC0nICsgaSkuYWRkQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCB0aGlzKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5cbmxldCBJbnRlZ3JhdGlvblNlbGVjdGlvbkh1ZCA9IEdhcm5pc2guQmFzZS5leHRlbmQoe1xuICAgICRjb250YWluZXI6IG51bGwsXG4gICAgJHNwaW5uZXI6IG51bGwsXG5cbiAgICBodWQ6IG51bGwsXG5cbiAgICBpbml0KGVsKSB7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoZWwpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlSHVkKCk7XG5cbiAgICB9LFxuXG4gICAgY3JlYXRlSHVkKCkge1xuICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgfTtcblxuICAgICAgICAkaHVkID0gJCgnPGRpdiBjbGFzcz1cImh1ZC1sb2FkZXItYm9keVwiLz4nKTtcbiAgICAgICAgdGhpcy4kc3Bpbm5lciA9ICQoJzxkaXYgY2xhc3M9XCJsb2FkZXJcIj48c3ZnIHdpZHRoPVwiMjVweFwiIGhlaWdodD1cIjI1cHhcIiB2aWV3Qm94PVwiMCAwIDQyIDQyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0cm9rZT1cIiM0NzQ3NDdcIj48ZyBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNCAzKVwiIHN0cm9rZS13aWR0aD1cIjVcIj48Y2lyY2xlIHN0cm9rZS1vcGFjaXR5PVwiLjVcIiBjeD1cIjE4XCIgY3k9XCIxOFwiIHI9XCIxOFwiLz48cGF0aCBkPVwiTTM2IDE4YzAtOS45NC04LjA2LTE4LTE4LTE4XCI+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT1cInRyYW5zZm9ybVwiIHR5cGU9XCJyb3RhdGVcIiBmcm9tPVwiMCAxOCAxOFwiIHRvPVwiMzYwIDE4IDE4XCIgZHVyPVwiMXNcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIi8+PC9wYXRoPjwvZz48L2c+PC9zdmc+PC9kaXY+JykucHJlcGVuZFRvKCRodWQpO1xuXG4gICAgICAgIHRoaXMuaHVkID0gbmV3IEdhcm5pc2guSFVEKHRoaXMuJGNvbnRhaW5lciwgJGh1ZCwge1xuICAgICAgICAgICAgaHVkQ2xhc3M6ICdodWQgZm9ybWJ1aWxkZXItaHVkIGludGVncmF0aW9uLWh1ZCcsXG4gICAgICAgICAgICBib2R5Q2xhc3M6ICdib2R5JyxcbiAgICAgICAgICAgIGNsb3NlT3RoZXJIVURzOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBHZXQgSW50ZWdyYXRpb25zXG4gICAgICAgIENyYWZ0LnBvc3RBY3Rpb25SZXF1ZXN0KCdmb3JtLWJ1aWxkZXIvaW50ZWdyYXRpb25zL2dldC1pbnRlZ3JhdGlvbnMtaHVkJywgZGF0YSwgJC5wcm94eSgoZnVuY3Rpb24gKHJlc3BvbnNlLCB0ZXh0U3RhdHVzKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm9keShyZXNwb25zZS50ZW1wbGF0ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIHRoaXMpKTtcblxuICAgIH0sXG5cbiAgICB1cGRhdGVCb2R5KHRlbXBsYXRlKSB7XG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGlzLmh1ZC51cGRhdGVCb2R5KHRlbXBsYXRlKTtcblxuICAgICAgICB0aGlzLmh1ZC5vbignb25TdWJtaXR0ZWQnLCAkLnByb3h5KHRoaXMsICdoYW5kbGVTdWJtaXR0ZWQnKSk7XG5cbiAgICAgICAgdGhpcy5odWQub24oJ2hpZGUnLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmh1ZDtcbiAgICAgICAgICAgICQoJy5odWQtc2hhZGUnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICQoJy5mb3JtYnVpbGRlci1odWQnKS5yZW1vdmUoKTtcbiAgICAgICAgfSwgdGhpcykpO1xuXG5cbiAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy5odWQuJGJvZHkuZmluZCgnLmludGVncmF0aW9uLWFkZC1saW5rJyk7XG5cbiAgICAgICAgaXRlbXMub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRhcmdldFswXS5kYXRhc2V0O1xuXG4gICAgICAgICAgICB0aGF0LnRyaWdnZXIoJ3Jlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5sZXQgSW50ZWdyYXRpb25JdGVtID0gR2FybmlzaC5CYXNlLmV4dGVuZCh7XG4gICAgJGNvbnRhaW5lcjogbnVsbCxcbiAgICBmb3JtSWQ6IG51bGwsXG5cbiAgICBpZDogbnVsbCxcbiAgICBuYW1lOiBudWxsLFxuICAgIGhhbmRsZTogbnVsbCxcbiAgICB0eXBlOiBudWxsLFxuICAgIHN0YXR1czogbnVsbCxcblxuICAgIGluaXQoZGF0YSkge1xuXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoJyNmb3JtYnVpbGRlci1pbnRlZ3JhdGlvbnMtY29udGFpbmVyJyk7XG5cbiAgICAgICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBmb3JtSWQ6IGRhdGEuZm9ybUlkLFxuICAgICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICBoYW5kbGU6IGRhdGEuaGFuZGxlLFxuICAgICAgICAgICAgdHlwZTogZGF0YS50eXBlLFxuICAgICAgICAgICAgc3RhdHVzOiBkYXRhLnN0YXR1c1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0SW50ZWdyYXRpb25TZWN0aW9uKHBheWxvYWQpO1xuICAgIH0sXG5cbiAgICBnZXRJbnRlZ3JhdGlvblNlY3Rpb24ocGF5bG9hZCkge1xuICAgICAgICBDcmFmdC5wb3N0QWN0aW9uUmVxdWVzdCgnZm9ybS1idWlsZGVyL2ludGVncmF0aW9ucy9nZXQtaW50ZWdyYXRpb24tc2VjdGlvbicsIHBheWxvYWQsICQucHJveHkoKGZ1bmN0aW9uIChyZXNwb25zZSwgdGV4dFN0YXR1cykge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZEludGVncmF0aW9uSHRtbChyZXNwb25zZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIHRoaXMpKTtcbiAgICB9LFxuXG4gICAgYXBwZW5kSW50ZWdyYXRpb25IdG1sKHJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmQoJChyZXNwb25zZS50ZW1wbGF0ZSkpO1xuXG4gICAgICAgIGxldCBjb250YWluZXIgPSAkKCcjaW50ZWdyYXRpb24tJyArIHJlc3BvbnNlLnR5cGUgKyAnLScgKyByZXNwb25zZS5pbmRleCk7XG5cbiAgICAgICAgLy8gY29udGFpbmVyLmZpbmQoJy5vcHRpb24taXRlbScpLmVhY2goZnVuY3Rpb24gKGksIGVsKSB7XG4gICAgICAgIC8vICAgICBuZXcgd2luZG93Lk9wdGlvbihlbCk7XG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgICQoJy5saWdodHN3aXRjaCcsIHRoaXMuJGNvbnRhaW5lcikubGlnaHRzd2l0Y2goKVxuXG4gICAgICAgIGNvbnRhaW5lci5maW5kKCcuZGVsZXRlLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5zbGlkZVVwKDMwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxufSk7XG5cbkdhcm5pc2guJGRvYy5yZWFkeSgoKSA9PiB7XG5cbiAgICAkKCcuYWRkLWludGVncmF0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiAkKHRoaXMpLFxuICAgICAgICAgICAgdHlwZTogJCh0aGlzKS5kYXRhKCd0eXBlJylcbiAgICAgICAgfTtcblxuICAgICAgICBuZXcgSW50ZWdyYXRpb25zSHVkKHBheWxvYWQpO1xuICAgIH0pO1xuXG4gICAgJCgnLmFkZC1pbnRlZ3JhdGlvbnMtaXRlbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGZvcm1JZCA9ICQodGhpcykuZGF0YSgnZm9ybS1pZCcpO1xuXG4gICAgICAgIGxldCBpbnRlZ3JhdGlvblNlbGVjdGlvbiA9IG5ldyBJbnRlZ3JhdGlvblNlbGVjdGlvbkh1ZCgkKHRoaXMpKTtcblxuICAgICAgICBpbnRlZ3JhdGlvblNlbGVjdGlvbi5vbigncmVzcG9uc2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBlLmRhdGEudHlwZTtcbiAgICAgICAgICAgIGxldCBhbGxvd011bHRpcGxlID0gZS5kYXRhLmFsbG93TXVsdGlwbGU7XG4gICAgICAgICAgICBlLmRhdGEuZm9ybUlkID0gZm9ybUlkO1xuICAgICAgICAgICAgZS50YXJnZXQuaHVkLmhpZGUoKTtcblxuICAgICAgICAgICAgaWYgKGFsbG93TXVsdGlwbGUgPT09ICcxJykge1xuICAgICAgICAgICAgICAgIG5ldyBJbnRlZ3JhdGlvbkl0ZW0oZS5kYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG5lZWRsZSA9ICQoJyNpbnRlZ3JhdGlvbi0nK3R5cGUrJy0xJyk7XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIENyYWZ0LmNwLmRpc3BsYXlFcnJvcihDcmFmdC50KCdmb3JtLWJ1aWxkZXInLCAnT25seSAxIGludGVncmF0aW9uIGlzIGFsbG93ZWQgZm9yIHRoaXMgdHlwZScpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXcgSW50ZWdyYXRpb25JdGVtKGUuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuXG4gICAgJCgnI2Zvcm1idWlsZGVyLWludGVncmF0aW9ucy1jb250YWluZXIgLmRlbGV0ZS1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCB0YXJnZXQgPSAkKHRoaXMpLmRhdGEoJ3RhcmdldCcpO1xuXG4gICAgICAgICQoJyMnICsgdGFyZ2V0KS5zbGlkZVVwKDMwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnIycgKyB0YXJnZXQpLnJlbW92ZSgpO1xuICAgICAgICB9KVxuICAgIH0pO1xuXG4gICAgJCgnLml0ZW0tcmVtb3ZlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbGV0IGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gJCh0aGlzKS5wYXJlbnQoKTtcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBpZDogaWRcbiAgICAgICAgfTtcblxuICAgICAgICBDcmFmdC5wb3N0QWN0aW9uUmVxdWVzdCgnZm9ybS1idWlsZGVyL2ludGVncmF0aW9ucy9kZWxldGUnLCBkYXRhLCAkLnByb3h5KChmdW5jdGlvbiAocmVzcG9uc2UsIHRleHRTdGF0dXMpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnZlbG9jaXR5KCdzbGlkZVVwJywgJzMwMCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIENyYWZ0LmNwLmRpc3BsYXlOb3RpY2UoQ3JhZnQudCgnZm9ybS1idWlsZGVyJywgJ0ludGVncmF0aW9uIGRlbGV0ZWQnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIENyYWZ0LmNwLmRpc3BsYXlOb3RpY2UoQ3JhZnQudCgnZm9ybS1idWlsZGVyJywgJ0Nhbm5vdCBkZWxldGUgaW50ZWdyYXRpb24nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB0aGlzKSk7XG5cbiAgICB9KTtcbn0pO1xuXG4iXSwiZmlsZSI6Ii4vZGV2ZWxvcG1lbnQvanMvaW50ZWdyYXRpb25zLmpzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./development/js/integrations.js\n");
/******/ })()
;